<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Promiseオブジェクト</title>
  </head>
  <body>
    <!-- ↓ scriptを記述する場合はこのエリアに記述してください ↓ -->
    <script>
      // fetchDataという関数があります。この関数は非同期なAPIリクエストを行い、成功時にはレスポンスデータを解決するPromiseを返します。
      // fetchData関数を呼び出してデータを取得し、成功した場合は「データの取得に成功しました: [データ]」というメッセージをコンソールに出力します。
      // 失敗した場合は「データの取得に失敗しました: [エラーメッセージ]」というメッセージをコンソールに出力します。

      function fetchData() {
        return new Promise((resolve, reject) => {
          // 仮の非同期処理をシミュレートするためにsetTimeoutを使用
          setTimeout(() => {
            const success = Math.random() < 0.5 // 50%の確率で成功とする
            if (success) {
              const data = "Sample Data" // ダミーデータ
              resolve(data) // 成功時にデータを解決する
            } else {
              const error = "API Error" // ダミーエラーメッセージ
              reject(error) // 失敗時にエラーメッセージを拒否する
            }
          }, 2000) // 2秒後に処理が完了すると仮定
        })
      }

      fetchData()
        //　ここから
        .then((data) => {
          console.log("データの取得に成功しました:", data)
        })
        .catch((error) => {
          console.log("データの取得に失敗しました:", error)
        })
    </script>
    <!-- ↑ scriptを記述する場合はこのエリアに記述してください ↑ -->
  </body>
</html>
